<template>
  <div class="app-container">
    <div class="main-header">
      <h1>âš¡ Nord Pool æ™ºèƒ½é£æ§ç»ˆç«¯</h1>
      <div class="status-badge">
        <span class="status-dot"></span> System Online
      </div>
    </div>

    <el-tabs v-model="activeTab" type="border-card" class="main-tabs">
      
      <el-tab-pane name="daily" label="ğŸ“ˆ å•æ—¥æ·±åº¦é€è§†">
        <template #label>
          <span class="custom-tabs-label">
            <el-icon><DataLine /></el-icon>
            <span>å•æ—¥åˆ†æ (PH/QH)</span>
          </span>
        </template>
        <RiskDashboard />
      </el-tab-pane>

      <el-tab-pane name="market" label="ğŸ“Š å¸‚åœºå¾®è§‚åˆ†æ">
        <template #label>
          <span class="custom-tabs-label">
            <el-icon><Histogram /></el-icon>
            <span>å¸‚åœºåˆ†æ (Kçº¿)</span>
          </span>
        </template>
        <MarketAnalysis />
      </el-tab-pane>

      <el-tab-pane name="range" label="ğŸ“… åŒºé—´çƒ­åŠ›å…¨æ™¯">
        <template #label>
          <span class="custom-tabs-label">
            <el-icon><Calendar /></el-icon>
            <span>åŒºé—´çƒ­åŠ›å›¾</span>
          </span>
        </template>
        <LiquidityHeatmap />
      </el-tab-pane>

      <el-tab-pane name="optimize" label="ğŸš€ åœ£æ¯å¯»æ‰¾">
        <template #label>
          <span class="custom-tabs-label">
            <el-icon><Compass /></el-icon>
            <span>å‚æ•°ä¼˜åŒ–</span>
          </span>
        </template>
        <OptimizationLab />
      </el-tab-pane>

      <el-tab-pane name="backtest" label="ğŸ§ª ç­–ç•¥å®éªŒå®¤">
        <template #label>
          <span class="custom-tabs-label">
            <el-icon><TrendCharts /></el-icon>
            <span>ç­–ç•¥å›æµ‹ (ROI)</span>
          </span>
        </template>
        <BacktestLab />
      </el-tab-pane>

      <el-tab-pane name="Live Trader" label="ğŸ§ª å®ç›˜äº¤æ˜“">
        <template #label>
          <span class="custom-tabs-label">
            <el-icon><TrendCharts /></el-icon>
            <span>å®ç›˜äº¤æ˜“</span>
          </span>
        </template>
        <LiveDashboard />
      </el-tab-pane>

      <el-tab-pane name="data" label="ğŸ’¾ æ•°æ®åŒæ­¥ä¸­å¿ƒ">
        <template #label>
          <span class="custom-tabs-label">
            <el-icon><Setting /></el-icon>
            <span>æ•°æ®ç®¡ç†</span>
          </span>
        </template>
        <DataManager />
      </el-tab-pane>

    </el-tabs>
  </div>
</template>

<script setup>
import { ref } from 'vue';
// å¼•å…¥ Element Plus çš„å›¾æ ‡
import { DataLine, Calendar, Setting, Histogram, TrendCharts } from '@element-plus/icons-vue';

// å¼•å…¥ä¸‰ä¸ªæ ¸å¿ƒä¸šåŠ¡ç»„ä»¶
import RiskDashboard from './components/RiskDashboard.vue';
import LiquidityHeatmap from './components/LiquidityHeatmap.vue';
import DataManager from './components/DataManager.vue';
import BacktestLab from './components/BacktestLab.vue';
import MarketAnalysis from './components/MarketAnalysis.vue';
import OptimizationLab from './components/OptimizationLab.vue';
import LiveDashboard from './components/LiveDashboard.vue';

// é»˜è®¤æ˜¾ç¤ºç¬¬ä¸€ä¸ª Tab
const activeTab = ref('backtest');
</script>

<style>
/* å…¨å±€é‡ç½® */
body {
  margin: 0;
  padding: 0;
  background-color: #f0f2f5;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}

.app-container {
  max-width: 1600px; /* å¤§å±é€‚é… */
  margin: 0 auto;
  padding: 20px;
}

.main-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  background: white;
  padding: 15px 30px;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.main-header h1 {
  margin: 0;
  font-size: 24px;
  color: #1f2f3d;
  font-weight: 600;
}

.status-badge {
  font-size: 14px;
  color: #67c23a;
  display: flex;
  align-items: center;
}

.status-dot {
  width: 8px;
  height: 8px;
  background-color: #67c23a;
  border-radius: 50%;
  margin-right: 8px;
  display: inline-block;
  box-shadow: 0 0 4px #67c23a;
}

.main-tabs {
  min-height: 800px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

.custom-tabs-label {
  display: flex;
  align-items: center;
  gap: 6px;
}

/* è¦†ç›– Element Plus Tabs çš„ä¸€äº›é»˜è®¤æ ·å¼ï¼Œä½¿å…¶æ›´ç¾è§‚ */
.el-tabs__item {
  font-size: 16px !important;
  height: 50px !important;
  line-height: 50px !important;
}

.el-tabs__content {
  padding: 30px !important;
  background-color: #fff;
}
</style>